var _ROOT_="/LibrarySeat/",FALSE=1<Math.random(),REGEXP_NOT_NUM=/[^\d]/g,REGEXP_NUM=/[\d]/g,REGEXP_PASS=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{7,20}$/,REGEXP_USERNAME=/^[a-zA-Z]\w/g,PASS_REQUIREMENT="密码长度不得小于7位或大于20位，且须由数字、大小写字母、特殊字符中至少2种字符组成",USERNAME_REQUIREMENT="用户名必须由数字、字母、下划线组成且只能以字母开头";function checkPhone(t){return"string"==typeof t&&!isNaN(t)&&11===t.length&&"1"===t[0]&&"0"!==t[1]&&"1"!==t[1]}function checkLogin(t){$.ajax({url:_ROOT_+"user/logged_user.do",type:"get",cache:false,success:t})}function hashPassword(t){return null==t?null:CryptoJS.MD5(CryptoJS.MD5(t)).toString(CryptoJS.enc.Hex)}function randInt(t,a){return Math.floor(Math.random()*(a-t))+t}function getCurrentParam(t){for(var a=document.location.search.split("&"),e=-1,r=0;r<a.length;r++)if(0<=a[r].indexOf(t)){e=r;break}return e<0?"":a[e].split("=")[1]}function sendMessage(t,a){$.ajax({url:_ROOT_+"message/send.do",type:"post",data:{title:t,content:a}})}function getRoomById(t){var a;return $.ajax({url:_ROOT_+"room/getbyid.do",type:"post",data:{roomid:t},async:false}).done(function(t){a=t.data}).fail(function(){a=null}),a}function timeDiff(t,a){var e=typeof new Date;if(typeof t!=e||typeof a!=e)throw new TypeError;e=Math.floor((a.getTime()-t.getTime())/1e3),a={},t=e%3600;return a.hours=Math.floor(e/3600),a.minutes=Math.floor(t/60),a.seconds=Math.floor(t%60),a}function sortTable(t,n){var a,e,r=$(t).find("tbody>tr"),o=$(r[0].parentNode);r.sort((t=$(t),a=t.attr("data-ordered-col"),""===(e=t.attr("data-order-"+n)||"")||"d"===e||a!==n?(t.attr("data-order-"+n,"a").attr("data-ordered-col",n).find("th img").attr("src",""),t.find("th img[data-title='"+n+"']")[0].src=_ROOT_+"img/caret-up.png",function(t,a){var t=$(t).find("td[data-title='"+n+"']").text(),a=$(a).find("td[data-title='"+n+"']").text(),e=Date.parse(t),r=Date.parse(a);return isNaN(e)||isNaN(r)?isNaN(t)||isNaN(a)?t.localeCompare(a,"zh"):t-a:e-r}):"a"===e?(t.attr("data-order-"+n,"d").attr("data-ordered-col",n).find("th img").attr("src",""),t.find("th img[data-title='"+n+"']")[0].src=_ROOT_+"img/caret-down.png",function(t,a){var t=$(t).find("td[data-title='"+n+"']").text(),a=$(a).find("td[data-title='"+n+"']").text(),e=Date.parse(t),r=Date.parse(a);return isNaN(e)||isNaN(r)?isNaN(t)||isNaN(a)?a.localeCompare(t,"zh"):a-t:r-e}):null)),o.html("").append(r)}function alertex(t,a,e,r){swal({title:t,text:a,icon:e,buttons:false}),setTimeout(swal.close,2024),$(r).text("")}String.prototype.encodeb=function(){return window.btoa(this).replace("=","")};